{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "build",
      "type": "shell",
      "command": "dotnet",
      "args": ["build", "SkyNet.sln", "-c", "Debug"],
      "group": "build",
      "problemMatcher": ["$msCompile"]
    },
    {
      "label": "test",
      "type": "shell",
      "command": "dotnet",
      "args": ["test", "SkyNet.sln", "-c", "Debug"],
      "group": "test",
      "problemMatcher": ["$msCompile"]
    },
    {
      "label": "run: cli",
      "type": "shell",
      "command": "dotnet",
      "args": ["run", "--project", "simulator/SkyNet.Simulator.Cli"],
      "problemMatcher": []
    },
    {
      "label": "docker: up (daemon)",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "up", "--build", "daemon"],
      "isBackground": true,
      "problemMatcher": []
    },
    {
      "label": "docker: up (dashboard)",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "up", "--build", "dashboard"],
      "isBackground": true,
      "problemMatcher": []
    },
    {
      "label": "docker: up (stack)",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "up", "--build"],
      "isBackground": true,
      "problemMatcher": []
    },
    {
      "label": "docker: down",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "down"],
      "problemMatcher": []
    },
    {
      "label": "docker: logs (follow)",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "logs", "-f", "--tail", "200"],
      "problemMatcher": []
    },
    {
      "label": "docker: shell (daemon dev)",
      "type": "shell",
      "command": "docker",
      "args": ["exec", "-it", "skynet-daemon", "bash"],
      "problemMatcher": []
    },
    {
      "label": "docker: up (stack, dev watch)",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "-f", "docker-compose.yml", "-f", "docker-compose.dev.yml", "up", "--build"],
      "isBackground": true,
      "problemMatcher": []
    },
    {
      "label": "docker: down (dev watch)",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "-f", "docker-compose.yml", "-f", "docker-compose.dev.yml", "down"],
      "problemMatcher": []
    },
    {
      "label": "open: dashboard",
      "type": "shell",

      "linux": {
        "command": "xdg-open",
        "args": ["http://localhost:8080"]
      },
      "osx": {
        "command": "open",
        "args": ["http://localhost:8080"]
      },
      "windows": {
        "command": "cmd",
        "args": ["/c", "start", "http://localhost:8080"]
      },
      "problemMatcher": []
    },
    {
      "label": "open: dashboard (dev watch)",
      "type": "shell",
      "linux": {
        "command": "xdg-open",
        "args": ["http://localhost:5170"]
      },
      "osx": {
        "command": "open",
        "args": ["http://localhost:5170"]
      },
      "windows": {
        "command": "cmd",
        "args": ["/c", "start", "http://localhost:5170"]
      },
      "problemMatcher": []
    },
    {
      "label": "docker: up (stack) + open dashboard",
      "dependsOn": ["docker: up (stack)", "open: dashboard"],
      "dependsOrder": "sequence",
      "problemMatcher": []
    },
    {
      "label": "docker: up (stack, dev watch) + open dashboard",
      "dependsOn": ["docker: up (stack, dev watch)", "open: dashboard (dev watch)"],
      "dependsOrder": "sequence",
      "problemMatcher": []
    }
  ]
}
